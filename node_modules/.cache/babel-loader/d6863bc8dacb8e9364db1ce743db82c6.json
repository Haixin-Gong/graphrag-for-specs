{"ast":null,"code":"var _jsxFileName = \"/home/gonghx/code/graphrag/src/App.js\";\nimport React, { useState } from 'react';\nimport { Layout, Upload, Button, Input, Select, message, Card, Typography } from 'antd';\nimport { UploadOutlined, SearchOutlined, BuildOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport './App.css';\nconst {\n  Content\n} = Layout;\nconst {\n  TextArea\n} = Input;\nconst {\n  Title\n} = Typography;\nfunction App() {\n  const [fileList, setFileList] = useState([]);\n  const [indexing, setIndexing] = useState(false);\n  const [querying, setQuerying] = useState(false);\n  const [queryMethod, setQueryMethod] = useState('global');\n  const [queryText, setQueryText] = useState('');\n  const [queryResult, setQueryResult] = useState('');\n  const handleFileUpload = ({\n    fileList\n  }) => {\n    setFileList(fileList);\n  };\n  const handleIndex = async () => {\n    setIndexing(true);\n    try {\n      // 这里需要替换为实际的后端API地址\n      await axios.post('/api/index');\n      message.success('索引创建成功！');\n    } catch (error) {\n      message.error('索引创建失败：' + error.message);\n    }\n    setIndexing(false);\n  };\n  const handleQuery = async () => {\n    if (!queryText) {\n      message.warning('请输入查询内容');\n      return;\n    }\n    setQuerying(true);\n    try {\n      // 这里需要替换为实际的后端API地址\n      const response = await axios.post('/api/query', {\n        method: queryMethod,\n        query: queryText\n      });\n      setQueryResult(response.data.result);\n    } catch (error) {\n      message.error('查询失败：' + error.message);\n    }\n    setQuerying(false);\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    className: \"layout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    style: {\n      padding: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"GraphRAG \\u77E5\\u8BC6\\u5E93\\u7CFB\\u7EDF\"), /*#__PURE__*/React.createElement(Card, {\n    title: \"\\u6587\\u4EF6\\u4E0A\\u4F20\",\n    style: {\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Upload, {\n    multiple: true,\n    fileList: fileList,\n    onChange: handleFileUpload,\n    beforeUpload: () => false,\n    accept: \".txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"\\u9009\\u62E9\\u6587\\u4EF6\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: handleIndex,\n    loading: indexing,\n    style: {\n      marginTop: 16\n    },\n    icon: /*#__PURE__*/React.createElement(BuildOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"\\u521B\\u5EFA\\u7D22\\u5F15\")), /*#__PURE__*/React.createElement(Card, {\n    title: \"\\u77E5\\u8BC6\\u5E93\\u67E5\\u8BE2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    value: queryMethod,\n    onChange: setQueryMethod,\n    style: {\n      width: 120,\n      marginBottom: 16\n    },\n    options: [{\n      value: 'global',\n      label: 'Global模式'\n    }, {\n      value: 'local',\n      label: 'Local模式'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u95EE\\u9898...\",\n    value: queryText,\n    onChange: e => setQueryText(e.target.value),\n    style: {\n      marginBottom: 16\n    },\n    rows: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: handleQuery,\n    loading: querying,\n    icon: /*#__PURE__*/React.createElement(SearchOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"\\u67E5\\u8BE2\"), queryResult && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"\\u67E5\\u8BE2\\u7ED3\\u679C\\uFF1A\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      whiteSpace: 'pre-wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, queryResult)))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","Layout","Upload","Button","Input","Select","message","Card","Typography","UploadOutlined","SearchOutlined","BuildOutlined","axios","Content","TextArea","Title","App","fileList","setFileList","indexing","setIndexing","querying","setQuerying","queryMethod","setQueryMethod","queryText","setQueryText","queryResult","setQueryResult","handleFileUpload","handleIndex","post","success","error","handleQuery","warning","response","method","query","data","result","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","level","title","marginBottom","multiple","onChange","beforeUpload","accept","icon","type","onClick","loading","marginTop","value","width","options","label","placeholder","e","target","rows","whiteSpace"],"sources":["/home/gonghx/code/graphrag/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Layout, Upload, Button, Input, Select, message, Card, Typography } from 'antd';\nimport { UploadOutlined, SearchOutlined, BuildOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport './App.css';\n\nconst { Content } = Layout;\nconst { TextArea } = Input;\nconst { Title } = Typography;\n\nfunction App() {\n  const [fileList, setFileList] = useState([]);\n  const [indexing, setIndexing] = useState(false);\n  const [querying, setQuerying] = useState(false);\n  const [queryMethod, setQueryMethod] = useState('global');\n  const [queryText, setQueryText] = useState('');\n  const [queryResult, setQueryResult] = useState('');\n\n  const handleFileUpload = ({ fileList }) => {\n    setFileList(fileList);\n  };\n\n  const handleIndex = async () => {\n    setIndexing(true);\n    try {\n      // 这里需要替换为实际的后端API地址\n      await axios.post('/api/index');\n      message.success('索引创建成功！');\n    } catch (error) {\n      message.error('索引创建失败：' + error.message);\n    }\n    setIndexing(false);\n  };\n\n  const handleQuery = async () => {\n    if (!queryText) {\n      message.warning('请输入查询内容');\n      return;\n    }\n    setQuerying(true);\n    try {\n      // 这里需要替换为实际的后端API地址\n      const response = await axios.post('/api/query', {\n        method: queryMethod,\n        query: queryText\n      });\n      setQueryResult(response.data.result);\n    } catch (error) {\n      message.error('查询失败：' + error.message);\n    }\n    setQuerying(false);\n  };\n\n  return (\n    <Layout className=\"layout\">\n      <Content style={{ padding: '50px' }}>\n        <Title level={2}>GraphRAG 知识库系统</Title>\n        \n        <Card title=\"文件上传\" style={{ marginBottom: 20 }}>\n          <Upload\n            multiple\n            fileList={fileList}\n            onChange={handleFileUpload}\n            beforeUpload={() => false}\n            accept=\".txt\"\n          >\n            <Button icon={<UploadOutlined />}>选择文件</Button>\n          </Upload>\n          <Button\n            type=\"primary\"\n            onClick={handleIndex}\n            loading={indexing}\n            style={{ marginTop: 16 }}\n            icon={<BuildOutlined />}\n          >\n            创建索引\n          </Button>\n        </Card>\n\n        <Card title=\"知识库查询\">\n          <Select\n            value={queryMethod}\n            onChange={setQueryMethod}\n            style={{ width: 120, marginBottom: 16 }}\n            options={[\n              { value: 'global', label: 'Global模式' },\n              { value: 'local', label: 'Local模式' }\n            ]}\n          />\n          <TextArea\n            placeholder=\"请输入您的问题...\"\n            value={queryText}\n            onChange={(e) => setQueryText(e.target.value)}\n            style={{ marginBottom: 16 }}\n            rows={4}\n          />\n          <Button\n            type=\"primary\"\n            onClick={handleQuery}\n            loading={querying}\n            icon={<SearchOutlined />}\n          >\n            查询\n          </Button>\n          \n          {queryResult && (\n            <div style={{ marginTop: 16 }}>\n              <Title level={4}>查询结果：</Title>\n              <div style={{ whiteSpace: 'pre-wrap' }}>{queryResult}</div>\n            </div>\n          )}\n        </Card>\n      </Content>\n    </Layout>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}